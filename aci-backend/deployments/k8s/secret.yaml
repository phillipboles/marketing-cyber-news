apiVersion: v1
kind: Secret
metadata:
  name: aci-backend-secrets
  namespace: aci-backend
  labels:
    app.kubernetes.io/name: aci-backend
    app.kubernetes.io/component: secrets
type: Opaque
stringData:
  # Database credentials
  # IMPORTANT: Replace with actual password before deployment
  # For production, use external secret management (Sealed Secrets, External Secrets Operator, or Vault)
  DATABASE_PASSWORD: "REPLACE_WITH_ACTUAL_PASSWORD"

  # JWT key pair for token signing and verification
  # Generate with: ssh-keygen -t rsa -b 4096 -m PEM -f jwt.key
  # Private key: jwt.key, Public key: jwt.key.pub
  # IMPORTANT: Replace with actual keys before deployment
  JWT_PRIVATE_KEY: |
    -----BEGIN RSA PRIVATE KEY-----
    REPLACE_WITH_ACTUAL_PRIVATE_KEY
    -----END RSA PRIVATE KEY-----

  JWT_PUBLIC_KEY: |
    -----BEGIN PUBLIC KEY-----
    REPLACE_WITH_ACTUAL_PUBLIC_KEY
    -----END PUBLIC KEY-----

  # n8n webhook authentication
  # Shared secret for validating incoming webhooks from n8n
  # Generate with: openssl rand -base64 32
  N8N_WEBHOOK_SECRET: "REPLACE_WITH_ACTUAL_WEBHOOK_SECRET"

  # Anthropic API key for Claude integration
  # Obtain from: https://console.anthropic.com/
  ANTHROPIC_API_KEY: "REPLACE_WITH_ACTUAL_API_KEY"

  # Redis password (if Redis authentication is enabled)
  # REDIS_PASSWORD: "REPLACE_WITH_ACTUAL_REDIS_PASSWORD"

---
# Example secret generation script (save as generate-secrets.sh)
# #!/bin/bash
#
# echo "Generating JWT key pair..."
# ssh-keygen -t rsa -b 4096 -m PEM -f jwt.key -N ""
#
# echo "Generating webhook secret..."
# openssl rand -base64 32 > webhook.secret
#
# echo "Generating database password..."
# openssl rand -base64 24 > db.password
#
# echo ""
# echo "Secrets generated. Update secret.yaml with:"
# echo "- JWT_PRIVATE_KEY: $(cat jwt.key | base64)"
# echo "- JWT_PUBLIC_KEY: $(cat jwt.key.pub | base64)"
# echo "- N8N_WEBHOOK_SECRET: $(cat webhook.secret)"
# echo "- DATABASE_PASSWORD: $(cat db.password)"
